<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>AVIATOR IA NEON PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
 --bg:#020b16;
 --card:#071a2f;
 --neon:#3cc6ff;
 --neon-soft:#3cc6ff55;
 --green:#2cff9e;
 --red:#ff5c5c;
 --text:#e8f4ff;
}

body{
 background:radial-gradient(circle at top,#061b33,#020b16 70%);
 color:var(--text);
 font-family:system-ui;
 margin:0;
 padding:20px;
 display:flex;
 justify-content:center;
}

.app{max-width:420px;width:100%}

.card{
 background:linear-gradient(180deg,#071a2f,#041425);
 border-radius:18px;
 padding:16px;
 margin-bottom:16px;
 border:1px solid var(--neon-soft);
 box-shadow:0 0 30px #3cc6ff22;
 animation:pulse 3s infinite;
}

@keyframes pulse{
 0%{box-shadow:0 0 15px #3cc6ff33}
 50%{box-shadow:0 0 35px #3cc6ff88}
 100%{box-shadow:0 0 15px #3cc6ff33}
}

h2,h3{margin:0 0 10px;text-shadow:0 0 12px var(--neon)}

input,button{
 width:100%;
 padding:12px;
 margin-top:8px;
 border-radius:14px;
 border:none;
 font-size:16px;
}

input{
 background:#020b16;
 color:var(--neon);
 border:1px solid var(--neon-soft);
}

button{
 background:linear-gradient(135deg,#3cc6ff,#0aa2ff);
 color:#00131f;
 font-weight:700;
 cursor:pointer;
 box-shadow:0 0 20px #3cc6ff88;
}

button:hover{filter:brightness(1.2)}
.red{background:linear-gradient(135deg,#ff7a7a,#ff3b3b);color:white}

.good{color:var(--green)}
.bad{color:var(--red)}

canvas{
 width:100%;
 height:120px;
 border-radius:12px;
 background:#020b16;
 box-shadow:inset 0 0 25px #3cc6ff22;
}
</style>
</head>

<body>
<div class="app">

<div class="card">
 <h2>AVIATOR IA NEON PRO</h2>
 <small>Auto-Learning ‚Ä¢ Multi-Temps ‚Ä¢ Cycle 5min</small>
</div>

<div class="card">
 <input id="v" type="number" step="0.01" placeholder="Cote du dernier ROSE (‚â•5x)">
 <input id="h" type="number" placeholder="Heure du ROSE (0‚Äì23)">
 <input id="m" type="number" placeholder="Minute du ROSE (0‚Äì59)">
 <input id="s" type="number" placeholder="Seconde du ROSE (0‚Äì59)">
 <button onclick="predict()">ANALYSER</button>
</div>

<div class="card" id="result" style="display:none">
 <h3>4 PR√âDICTIONS IA</h3>
 <div id="prediction"></div>
</div>

<div class="card">
 <button onclick="record(true)">GAGN√â ‚úÖ</button>
 <button class="red" onclick="record(false)">PERDU ‚ùå</button>
</div>

<div class="card">
 <h3>Score IA</h3>
 <div id="score">50%</div>
</div>

<div class="card">
 <h3>√âvolution IA</h3>
 <canvas id="graph" width="300" height="120"></canvas>
</div>

<audio id="beep">
 <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg">
</audio>

</div>

<script>
let brain = JSON.parse(localStorage.getItem("aviatorAI")) || {
 score:50,
 history:[50],
 memory:{},
 cycles:{},
 roses:[]
};

let lastPred=[];

score.innerText=brain.score+"%";

function cycle5(m){return Math.floor(m/5);}
function key(h,m,s){return h+"-"+m+"-"+s;}

function predict(){
 const v=parseFloat(vv.value);
 const h=parseInt(hh.value);
 const m=parseInt(mm.value);
 const s=parseInt(ss.value);

 if(isNaN(v)||isNaN(h)||isNaN(m)||isNaN(s)||v<5){
  alert("ROSE invalide (‚â•5x requis)");
  return;
 }

 brain.roses.push({v,h,m,s});
 if(brain.roses.length>10) brain.roses.shift();
 let trend=brain.roses.reduce((a,r)=>a+r.v,0)/brain.roses.length;

 lastPred=[];
 let html="";

 for(let i=1;i<=4;i++){
  let offset=10*i+Math.floor(Math.random()*5);

  let sec=(s+offset)%60;
  let minCarry=Math.floor((s+offset)/60);
  let min=(m+minCarry)%60;
  let hourCarry=Math.floor((m+minCarry)/60);
  let hour=(h+hourCarry)%24;

  let k=key(hour,min,sec);
  brain.memory[k]=brain.memory[k]||{w:0,l:0};
  let memBias=(brain.memory[k].w-brain.memory[k].l)*0.15;

  let c=cycle5(min);
  brain.cycles[c]=brain.cycles[c]||{w:0,l:0};
  let cycleBias=(brain.cycles[c].w-brain.cycles[c].l)*0.2;

  let cote=(
   4 +
   (trend-4)*0.5 +
   (v-4)*0.4 +
   (s/60)*0.3 +
   (m/60)*0.3 +
   (h/24)*0.2 +
   (brain.score/100)*0.2 +
   memBias +
   cycleBias +
   i*0.25
  ).toFixed(2);

  if(cote>=4){
   lastPred.push({k,c});
   html+=`‚è±Ô∏è ${String(hour).padStart(2,'0')}:${String(min).padStart(2,'0')}:${String(sec).padStart(2,'0')}
          ‚Üí üéØ <b class="good">${cote}x</b>
          <small>(cycle ${c*5}-${c*5+4})</small><br>`;
  }
 }

 if(lastPred.length) document.getElementById("beep").play();
 prediction.innerHTML=html||"<span class='bad'>Zone instable</span>";
 result.style.display="block";
}

function record(win){
 if(!lastPred.length) return;

 lastPred.forEach(p=>{
  brain.memory[p.k]=brain.memory[p.k]||{w:0,l:0};
  win?brain.memory[p.k].w++:brain.memory[p.k].l++;
  brain.cycles[p.c]=brain.cycles[p.c]||{w:0,l:0};
  win?brain.cycles[p.c].w++:brain.cycles[p.c].l++;
 });

 win?brain.score+=2:brain.score-=3;
 brain.score=Math.max(0,Math.min(100,brain.score));
 brain.history.push(brain.score);

 localStorage.setItem("aviatorAI",JSON.stringify(brain));
 score.innerText=brain.score+"%";
 drawGraph();
}

function drawGraph(){
 const ctx=graph.getContext("2d");
 ctx.clearRect(0,0,300,120);
 ctx.beginPath();
 ctx.strokeStyle="#3cc6ff";
 ctx.lineWidth=2;
 brain.history.forEach((v,i)=>{
  let x=i*(300/(brain.history.length-1||1));
  let y=120-(v*1.1);
  i?ctx.lineTo(x,y):ctx.moveTo(x,y);
 });
 ctx.stroke();
}
drawGraph();

const vv=v, hh=h, mm=m, ss=s;
</script>

</body>
</html>
