<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>AVIATOR IA JACKPOT ENGINE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  background:radial-gradient(circle at top,#0a2a4a,#020814);
  color:#e6f6ff;
  font-family:system-ui,Arial;
  margin:0;
  padding:20px;
  display:flex;
  justify-content:center;
}
.app{max-width:440px;width:100%}
.card{
  background:#081f36;
  border-radius:16px;
  padding:16px;
  margin-bottom:14px;
  box-shadow:0 0 0 1px #0d4b7a;
}
h2,h3{margin:0 0 10px 0}
input,button{
  width:100%;
  padding:12px;
  margin-top:8px;
  border-radius:12px;
  border:none;
  font-size:16px;
}
input{
  background:#02111f;
  color:#bfefff;
  border:1px solid #0d4b7a;
}
button{
  background:#00d4ff;
  color:#001018;
  font-weight:bold;
  cursor:pointer;
}
button.red{background:#ff4b5c;color:white}
.small{font-size:13px;color:#9fdcff}
.pred{
  margin-top:8px;
  padding:10px;
  border-radius:12px;
  border:1px solid #0d4b7a;
  background:#041a2e;
}
.badge-jackpot{color:#00f6ff;font-weight:bold}
.badge-good{color:#3cff9e}
.badge-risk{color:#ff6b6b}
</style>
</head>

<body>
<div class="app">

<div class="card">
<h2>üéÆ AVIATOR IA SMART</h2>
<div class="small">Minute & Seconde ‚Üí Prediction | Heure ‚Üí Jackpot</div>
</div>

<div class="card">
<input id="v" type="number" step="0.01" placeholder="Dernier ROSE (‚â•5x)">
<input id="h" type="number" placeholder="Heure du ROSE (0‚Äì23)">
<input id="m" type="number" placeholder="Minute du ROSE (0‚Äì59)">
<input id="s" type="number" placeholder="Seconde du ROSE (0‚Äì59)">
<button onclick="predict()">ANALYSER</button>
</div>

<div class="card" id="result" style="display:none">
<div id="prediction"></div>
</div>

<div class="card">
<button onclick="record(true)">GAGN√â ‚úÖ</button>
<button class="red" onclick="record(false)">PERDU ‚ùå</button>
</div>

<div class="card">
<h3>Score IA</h3>
<div id="score">50%</div>
</div>

</div>

<script>
let data = JSON.parse(localStorage.getItem("aviatorAI")) || {
  heat:Array.from({length:60},()=>({w:0,l:0})),
  score:50
};
let lastS=null;

/* =======================
   PREDICTION
   ======================= */
function predict(){
  const v=parseFloat(document.getElementById("v").value);
  const h=parseInt(document.getElementById("h").value);
  const m=parseInt(document.getElementById("m").value);
  const s=parseInt(document.getElementById("s").value);

  if(isNaN(v)||isNaN(h)||isNaN(m)||isNaN(s)){
    alert("Valeurs invalides");
    return;
  }

  lastS=s;
  let base=m*60+s;
  let html="";

  for(let i=1;i<=4;i++){

    /* === CALCUL MINUTE + SECONDE SEULEMENT === */
    let chaos=Math.floor(Math.random()*16)-8;
    let future=base+(i*45)+chaos;

    let fm=Math.floor((future/60)%60);
    let fs=future%60;
    if(fs<0){fs+=60;fm--}
    if(fm<0)fm+=60;

    /* === APPRENTISSAGE PAR SECONDE === */
    let heat=data.heat[fs];
    let danger=heat.l-heat.w;

    let cote=2.4+(v/9)+(fm/120)+(fs/100)-(danger*0.25);
    cote=Math.max(1.3,cote);

    /* === JACKPOT : UTILISE L‚ÄôHEURE === */
    let jackpotScore=0;
    if(cote>=4) jackpotScore+=30;
    if(fs%2===0) jackpotScore+=15;
    if(fm%5!==0) jackpotScore+=15;
    if(h>=13&&h<=22) jackpotScore+=25; // üëà HEURE ICI
    if(data.score>=65) jackpotScore+=15;

    let badge="";
    if(jackpotScore>=70){
      badge="<span class='badge-jackpot'>üé∞ JACKPOT</span>";
    }else if(jackpotScore>=55){
      badge="<span class='badge-good'>‚úî Bon signal</span>";
    }else{
      badge="<span class='badge-risk'>‚ö† Risqu√©</span>";
    }

    html+=`
    <div class="pred">
    <b>Pr√©diction ${i}</b> ${badge}<br>
    ‚è± Entr√©e : ${fm.toString().padStart(2,"0")}:${fs.toString().padStart(2,"0")}<br>
    üìà Cote min estim√©e : <b>${cote.toFixed(2)}x</b><br>
    üéØ Jackpot score : ${jackpotScore}/100
    </div>`;
  }

  document.getElementById("prediction").innerHTML=html;
  document.getElementById("result").style.display="block";
}

/* =======================
   APPRENTISSAGE
   ======================= */
function record(win){
  if(lastS===null)return;
  if(win){
    data.heat[lastS].w++;
    data.score+=2;
  }else{
    data.heat[lastS].l++;
    data.score-=3;
  }
  data.score=Math.max(0,Math.min(100,data.score));
  localStorage.setItem("aviatorAI",JSON.stringify(data));
  document.getElementById("score").innerText=data.score+"%";
}

document.getElementById("score").innerText=data.score+"%";
</script>

</body>
</html>
